{% extends 'softball/base.html' %}

{% block title %}Edit Player: {{ player.name }}{% endblock %}

{% block body %}
    <div class="page-header">
        <h1>Edit Player</h1>
    </div>

<form action="" method="post" class="form-horizontal">
    <div class="row-fluid">
        <div class="span12">
            {% with player_form as form %}
                {% include "softball/include_form.html" %}
            {% endwith %}
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Player</button>
                <a class="btn" href="{% url player_view player_id=player.id %}">Cancel</a>
            </div>
        </div>
    </div>
</form>

<div class="row-fluid">
  <div class="span12">
    <h2>Games</h2>
    <table class="table table-striped table-condensed table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>vs.</th>
          <th class="right">AVG</th>
          <th class="right">OBP</th>
          <th class="right">SLUG</th>
          <th class="right">AB</th>
          <th class="right">H</th>
          <th class="right">BB</th>
          <th class="right">K</th>
          <th class="right">R</th>
          <th class="right">1B</th>
          <th class="right">2B</th>
          <th class="right">3B</th>
          <th class="right">HR</th>
        </tr>
      </thead>
      <tfoot>
        <tr>
          <td><strong>Totals</strong></td>
          <td></td>
          <td class="right"><strong>{{ player.batting_average|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.on_base_percentage|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.slugging_percentage|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.at_bats|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.hits|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.walks|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.strikeouts|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.runs|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.singles|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.doubles|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.triples|default:"-" }}</strong></td>
          <td class="right"><strong>{{ player.home_runs|default:"-" }}</strong></td>
        </tr>
      </tfoot>
      <tbody>
        {% for statistic in player.statistics.all %}
          <tr>
            <td>{{ statistic.roster.game.played_on }}</td>
            <td>{{ statistic.roster.game.location }}</td>
            <td class="right">{{ statistic.batting_average|default:"-" }}</td>
            <td class="right">{{ statistic.on_base_percentage|default:"-" }}</td>
            <td class="right">{{ statistic.slugging_percentage|default:"-" }}</td>
            <td class="right">{{ statistic.at_bats|default:"-" }}</td>
            <td class="right">{{ statistic.hits|default:"-" }}</td>
            <td class="right">{{ statistic.walks|default:"-" }}</td>
            <td class="right">{{ statistic.strikeouts|default:"-" }}</td>
            <td class="right">{{ statistic.runs|default:"-" }}</td>
            <td class="right">{{ statistic.singles|default:"-" }}</td>
            <td class="right">{{ statistic.doubles|default:"-" }}</td>
            <td class="right">{{ statistic.triples|default:"-" }}</td>
            <td class="right">{{ statistic.home_runs|default:"-" }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
